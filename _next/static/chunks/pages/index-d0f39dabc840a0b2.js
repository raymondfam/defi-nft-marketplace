(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{78581:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(68894)}])},68894:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return O}});var r=e(85893),a=e(7160),s=e.n(a),o=(e(10292),e(34051)),u=e.n(o),c=e(83078),i=e(96301),l=e(67294),d=e(20401);function p(t,n,e,r,a,s,o){try{var u=t[s](o),c=u.value}catch(i){return void e(i)}u.done?n(c):Promise.resolve(c).then(r,a)}function f(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var s=t.apply(n,e);function o(t){p(s,r,a,o,u,"next",t)}function u(t){p(s,r,a,o,u,"throw",t)}o(void 0)}))}}function m(){var t=(0,c.Nr)(),n=(t.address,t.account),e=t.isWeb3Enabled,a=(0,l.useState)("0"),s=a[0],o=a[1],p=(0,l.useState)("0"),m=p[0],h=p[1],v=(0,l.useState)("0"),x=v[0],b=v[1],w=(0,l.useState)("0"),y=w[0],A=w[1],g=(0,l.useState)("0"),_=g[0],N=g[1],S=(0,c.JX)({abi:i.achieverAbi,contractAddress:i.achieverAddress,functionName:"balanceOf",params:{account:n}}).runContractFunction,k=(0,c.JX)({abi:i.wethAbi,contractAddress:i.wethAddress,functionName:"balanceOf",params:{Matthew:n}}).runContractFunction,j=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"balanceOf",params:{Elkanah:n}}).runContractFunction,E=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"earned",params:{account:n}}).runContractFunction,C=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"totalSupply",params:{}}).runContractFunction;function H(){return(H=f(u().mark((function t(){var n,e,r,a,s;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=d,t.next=3,S({onError:function(t){return console.log(t)}});case 3:return t.t1=t.sent,n=t.t0.formatEther.call(t.t0,t.t1),o(n),t.t2=d,t.next=9,k({onError:function(t){return console.log(t)}});case 9:return t.t3=t.sent,e=t.t2.formatEther.call(t.t2,t.t3),h(e),t.t4=d,t.next=15,j({onError:function(t){return console.log(t)}});case 15:return t.t5=t.sent,r=t.t4.formatEther.call(t.t4,t.t5),b(r),t.t6=d,t.next=21,E({onError:function(t){return console.log(t)}});case 21:return t.t7=t.sent,a=t.t6.formatEther.call(t.t6,t.t7),A(a),t.t8=d,t.next=27,C({onError:function(t){return console.log(t)}});case 27:t.t9=t.sent,s=t.t8.formatEther.call(t.t8,t.t9),N(s);case 30:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,l.useEffect)((function(){e&&n&&function(){H.apply(this,arguments)}()}),[n,e]),(0,r.jsxs)("div",{className:"flex flex-col p-4",children:[(0,r.jsxs)("div",{children:["Your ACH Balance: ",s]}),(0,r.jsxs)("div",{children:["Your WETH Balance: ",m]}),(0,r.jsxs)("div",{children:["Your LP Shares: ",(0,r.jsx)("span",{className:"lp font-semibold",children:x})]}),(0,r.jsxs)("div",{children:["Contract LP Shares: ",_]}),(0,r.jsxs)("div",{children:["Rewards Earned: ",(0,r.jsx)("span",{className:"rewards font-semibold",children:y})]})]})}var h=e(69251),v=e(35553),x=e(10913),b=e(33841),w=e(53179),y=e(55819),A=e(5449),g=e(83321);function _(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function N(t,n,e,r,a,s,o){try{var u=t[s](o),c=u.value}catch(i){return void e(i)}u.done?n(c):Promise.resolve(c).then(r,a)}function S(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var s=t.apply(n,e);function o(t){N(s,r,a,o,u,"next",t)}function u(t){N(s,r,a,o,u,"throw",t)}o(void 0)}))}}function k(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,a,s=[],o=!0,u=!1;try{for(e=e.call(t);!(o=(r=e.next()).done)&&(s.push(r.value),!n||s.length!==n);o=!0);}catch(c){u=!0,a=c}finally{try{o||null==e.return||e.return()}finally{if(u)throw a}}return s}}(t,n)||function(t,n){if(!t)return;if("string"===typeof t)return _(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(){var t=(0,c.JX)().runContractFunction,n=(0,h.lm)(),e={abi:i.achieverAbi,contractAddress:i.achieverAddress,functionName:"approve"},a={abi:i.wethAbi,contractAddress:i.wethAddress,functionName:"approve"},s={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"swap"},o=(0,l.useState)("0"),p=o[0],f=o[1],m=(0,l.useState)(""),_=m[0],N=m[1],j=(0,l.useState)(!1),E=j[0],C=j[1],H=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"reserve0",params:{}}).runContractFunction,P=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"reserve1",params:{}}).runContractFunction;function T(){return(T=S(u().mark((function r(s){var o,c,l,d;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s.preventDefault(),!((c=document.querySelector("#swap-amount").value)<=0)){r.next=5;break}return r.abrupt("return");case 5:return C(!0),l=v.vz(c,"ether").toString(),"WETH"==_?(a.params={wad:l,guy:i.mutualsAddress},o=a):(e.params={amount:l,spender:i.mutualsAddress},o=e),r.next=10,t({params:o,onError:function(t){console.log(t),n({title:t.message,type:"error",position:"topR"})}});case 10:if(d=r.sent){r.next=13;break}return r.abrupt("return");case 13:return r.next=15,d.wait(1);case 15:F(o.contractAddress,l);case 16:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function F(t,n){return R.apply(this,arguments)}function R(){return(R=S(u().mark((function e(r,a){var o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.params={_amountIn:a,_tokenIn:r},console.log({swapOptions:s}),console.log("Swapping ".concat(s.params._amountIn," ...")),e.next=5,t({params:s,onSuccess:function(){return n({title:"Successfully Swapped",type:"success",position:"topR"})}});case 5:return o=e.sent,e.next=8,o.wait(1);case 8:console.log("Transaction has confirmed by 1 block");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(t){return J.apply(this,arguments)}function J(){return(J=S(u().mark((function t(n){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=document.querySelector("#swap-amount"),!isNaN(n.target.value)){t.next=5;break}e.value="",f(0),N(n.target.value),t.next=10;break;case 5:return t.t0=f,t.next=8,O(e.value);case 8:t.t1=t.sent,(0,t.t0)(t.t1);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t){return W.apply(this,arguments)}function W(){return(W=S(u().mark((function t(n){var e,r,a,s,o,c,i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_){t.next=2;break}return t.abrupt("return",0);case 2:return t.t0=d,t.next=5,H();case 5:return t.t1=t.sent,e=t.t0.formatEther.call(t.t0,t.t1),t.t2=d,t.next=10,P();case 10:return t.t3=t.sent,r=t.t2.formatEther.call(t.t2,t.t3),null,a=k("ACH"==_?[e,r]:[r,e],2),s=a[0],o=a[1],i=+o*(c=997*n/1e3)/(+s+c),t.abrupt("return",i);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,r.jsxs)("div",{className:"shadow-2xl rounded-xl p-8 px-12",children:[(0,r.jsx)("h3",{className:"font-bold text-2xl mb-4 text-slate-500",children:"Claim Rewards"}),(0,r.jsxs)("form",{action:"",className:"flex flex-col gap-10",children:[(0,r.jsxs)(x.Z,{size:"small",className:"w-1/2",children:[(0,r.jsx)(b.Z,{id:"select",children:"Select a token"}),(0,r.jsxs)(w.Z,{value:_,onChange:X,label:"select",children:[(0,r.jsx)(y.Z,{value:"",children:"None"}),(0,r.jsx)(y.Z,{value:"ACH",children:"ACH"}),(0,r.jsx)(y.Z,{value:"WETH",children:"WETH"})]})]}),(0,r.jsx)(A.Z,{className:"w-1/2",id:"swap-amount",label:"Amount to swap",size:"small",onChange:X,required:!0}),(0,r.jsxs)("div",{className:"text-xl",children:["Token Out: ",p]}),(0,r.jsx)(g.Z,{variant:"contained",className:"w-20 rounded-lg",type:"submit",onClick:function(t){return T.apply(this,arguments)},disabled:E,children:"Submit"})]})]})}function E(t,n,e,r,a,s,o){try{var u=t[s](o),c=u.value}catch(i){return void e(i)}u.done?n(c):Promise.resolve(c).then(r,a)}function C(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var s=t.apply(n,e);function o(t){E(s,r,a,o,u,"next",t)}function u(t){E(s,r,a,o,u,"throw",t)}o(void 0)}))}}function H(){var t=(0,l.useState)(""),n=t[0],e=t[1],a=(0,l.useState)(""),s=a[0],o=a[1],d=(0,c.JX)().runContractFunction,p={abi:i.wethAbi,contractAddress:i.wethAddress,functionName:"approve"},f={abi:i.achieverAbi,contractAddress:i.achieverAddress,functionName:"approve"},m={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"addLiquidity"},x={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:null};function b(){return(b=C(u().mark((function t(){var n,e,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=document.querySelector("#stake-form #input_0").value)<=0)){t.next=3;break}return t.abrupt("return");case 3:return p.params={wad:v.vz(n,"ether").toString(),guy:i.mutualsAddress},t.next=6,d({params:p,onError:function(t){return console.log(t)}});case 6:return e=document.querySelector("#stake-form #input_1").value,f.params={amount:v.vz(e,"ether").toString(),spender:i.mutualsAddress},t.next=10,d({params:f});case 10:return r=t.sent,t.next=13,r.wait(1);case 13:w(p.params.wad,f.params.amount);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t,n){return y.apply(this,arguments)}function y(){return(y=C(u().mark((function t(n,e){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m.params={_amount0:n,_amount1:e},t.next=3,d({params:m,onError:function(t){return console.log(t)}});case 3:return r=t.sent,t.next=6,r.wait(1);case 6:console.log("Transaction has confirmed by 1 block");case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(){return(A=C(u().mark((function t(n){var r,a,s,c,i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.target.value<0)){t.next=2;break}return t.abrupt("return");case 2:return r="input_0"==n.target.id?"1":"0",a=Number(n.target.value).toFixed(16),s=v.vz(a,"ether").toString(),x.functionName="calculateToken".concat(r,"Amount"),console.log(s),x.params="0"==r?{y:s}:{x:s},console.log(x),t.next=11,d({params:x,onError:function(t){return console.log(t)}});case 11:c=t.sent,console.log({tx:c}),i=v.dF(c).toString(),"1"==r?o(i):e(i);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,r.jsx)("div",{className:"shadow-2xl rounded-xl p-4",children:(0,r.jsx)(h.l0,{onSubmit:function(){return b.apply(this,arguments)},onChange:function(t){return A.apply(this,arguments)},id:"stake-form",data:[{inputWidth:"50%",name:"Amount to stake (in WETH)",type:"number",value:n,key:"WETH"},{inputWidth:"50%",name:"Amount to stake (in ACH)",type:"number",value:s,key:"ACH"}],title:"Let's stake!"})})}function P(t,n,e,r,a,s,o){try{var u=t[s](o),c=u.value}catch(i){return void e(i)}u.done?n(c):Promise.resolve(c).then(r,a)}function T(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var s=t.apply(n,e);function o(t){P(s,r,a,o,u,"next",t)}function u(t){P(s,r,a,o,u,"throw",t)}o(void 0)}))}}function F(){var t=function(t,n){e({type:n,title:t,position:"topR"})},n=(0,c.JX)().runContractFunction,e=(0,h.lm)(),a=(i.wethAbi,i.wethAddress,{abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"removeLiquidity"}),s=(0,l.useState)(""),o=s[0],d=s[1];function p(){return(p=T(u().mark((function e(r){var s,o,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.data[0].inputResult.toString(),o=v.vz(s,"ether").toString(),c=f(),(s<0||s>c)&&t("the broken has occured","error"),a.params={_shares:o},e.next=7,n({params:a,onError:function(n){return t(n.message,"error")},onSuccess:function(){return t("Removed ".concat(s," LP shares"),"success")}});case 7:e.sent;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=function(){return document.querySelector(".lp").textContent};return(0,r.jsxs)("div",{className:"shadow-xl rounded-xl p-8 px-12",children:[(0,r.jsx)(h.l0,{onSubmit:function(t){return p.apply(this,arguments)},onChange:function(){return d(null)},data:[{inputWidth:"250px",name:"Amount to remove",type:"number",value:o,key:"amountToRemove",validation:{required:!0}}],title:"Remove LP Shares"}),(0,r.jsx)(h.zx,{text:"Max",onClick:function(){d(f()),console.log(o)},theme:"primary",style:{position:"relative",bottom:"120px",left:"270px",padding:"6px 12px",fontSize:"1rem"}})]})}function R(t,n,e,r,a,s,o){try{var u=t[s](o),c=u.value}catch(i){return void e(i)}u.done?n(c):Promise.resolve(c).then(r,a)}function X(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var s=t.apply(n,e);function o(t){R(s,r,a,o,u,"next",t)}function u(t){R(s,r,a,o,u,"throw",t)}o(void 0)}))}}function J(){var t=function(t,n){o({type:n,title:t,position:"topR"})},n=(0,c.Nr)(),e=(n.address,n.account),a=n.isWeb3Enabled,s=(0,c.JX)().runContractFunction,o=(0,h.lm)(),d={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"getReward"},p=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"earned",params:{account:e}}).runContractFunction,f=(0,l.useState)(""),m=f[0],x=f[1];function b(){return(b=X(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s({params:d,onError:function(n){return console.log(n),t(n.message,"error"),n},onSuccess:function(){t("Successfully claimed ".concat(m,"!"),"success")}});case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var w=function(){var t=X(u().mark((function t(){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p();case 2:n=t.sent,x(v.dF(n).toString());case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,l.useEffect)((function(){a&&e&&w()}),[e,a]),(0,r.jsxs)("div",{className:"shadow-xl rounded-xl p-8 px-12",children:[(0,r.jsx)("h3",{className:"font-bold text-2xl mb-4 text-slate-500",children:"Claim Rewards"}),(0,r.jsx)(g.Z,{className:"p-2 my-3",variant:"contained",onClick:function(){return b.apply(this,arguments)},disabled:!Number(m),children:"Claim rewards"}),(0,r.jsxs)("p",{className:" text-lg",children:["Rewards Earned: ",(0,r.jsx)("span",{className:"font-semibold",children:m})]})]})}function O(){var t={gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",width:"85vw"};return(0,r.jsxs)("div",{className:s().container,style:{display:"flex",flexDirection:"column",gap:"12px",alignItems:"center"},children:[(0,r.jsxs)("div",{className:"grid gap-12 pt-7",style:t,children:[(0,r.jsx)(j,{}),(0,r.jsx)(H,{})]}),(0,r.jsxs)("div",{className:"grid gap-12",style:t,children:[(0,r.jsx)(F,{}),(0,r.jsx)(J,{})]}),(0,r.jsx)(m,{})]})}},7160:function(t){t.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}},69649:function(){},7801:function(){},6042:function(){},74801:function(){},30991:function(){},68587:function(){}},function(t){t.O(0,[593,993,753,301,774,888,179],(function(){return n=78581,t(t.s=n);var n}));var n=t.O();_N_E=n}]);