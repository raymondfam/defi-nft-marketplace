(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{78581:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(68894)}])},68894:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return _}});var r=e(85893),a=(e(10292),e(34051)),o=e.n(a),s=e(83078),u=e(96301),c=e(67294),i=e(92301);function l(t,n,e,r,a,o,s){try{var u=t[o](s),c=u.value}catch(i){return void e(i)}u.done?n(c):Promise.resolve(c).then(r,a)}function d(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var o=t.apply(n,e);function s(t){l(o,r,a,s,u,"next",t)}function u(t){l(o,r,a,s,u,"throw",t)}s(void 0)}))}}function p(){var t=(0,s.Nr)(),n=(t.address,t.account),e=t.isWeb3Enabled,a=(0,c.useState)("0"),l=a[0],p=a[1],f=(0,c.useState)("0"),m=f[0],h=f[1],v=(0,c.useState)("0"),x=v[0],b=v[1],y=(0,c.useState)("0"),w=y[0],A=y[1],g=(0,c.useState)("0"),E=g[0],S=g[1],k=(0,s.JX)({abi:u.achieverAbi,contractAddress:u.achieverAddress,functionName:"balanceOf",params:{account:n}}).runContractFunction,N=(0,s.JX)({abi:u.wethAbi,contractAddress:u.wethAddress,functionName:"balanceOf",params:{Matthew:n}}).runContractFunction,C=(0,s.JX)({abi:u.mutualsAbi,contractAddress:u.mutualsAddress,functionName:"balanceOf",params:{Elkanah:n}}).runContractFunction,j=(0,s.JX)({abi:u.mutualsAbi,contractAddress:u.mutualsAddress,functionName:"earned",params:{account:n}}).runContractFunction,_=(0,s.JX)({abi:u.mutualsAbi,contractAddress:u.mutualsAddress,functionName:"totalSupply",params:{}}).runContractFunction;function T(){return(T=d(o().mark((function t(){var n,e,r,a,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=i,t.next=3,k({onError:function(t){return console.log(t)}});case 3:return t.t1=t.sent,n=t.t0.formatEther.call(t.t0,t.t1),p(n),t.t2=i,t.next=9,N({onError:function(t){return console.log(t)}});case 9:return t.t3=t.sent,e=t.t2.formatEther.call(t.t2,t.t3),h(e),t.t4=i,t.next=15,C({onError:function(t){return console.log(t)}});case 15:return t.t5=t.sent,r=t.t4.formatEther.call(t.t4,t.t5),b(r),t.t6=i,t.next=21,j({onError:function(t){return console.log(t)}});case 21:return t.t7=t.sent,a=t.t6.formatEther.call(t.t6,t.t7),A(a),t.t8=i,t.next=27,_({onError:function(t){return console.log(t)}});case 27:t.t9=t.sent,s=t.t8.formatEther.call(t.t8,t.t9),S(s);case 30:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,c.useEffect)((function(){e&&n&&function(){T.apply(this,arguments)}()}),[n,e]),(0,r.jsxs)("div",{className:"flex flex-col p-4",children:[(0,r.jsxs)("div",{children:["Your ACH Balance: ",l]}),(0,r.jsxs)("div",{children:["Your WETH Balance: ",m]}),(0,r.jsxs)("div",{children:["Your LP Shares: ",(0,r.jsx)("span",{className:"lp font-semibold",children:x})]}),(0,r.jsxs)("div",{children:["Contract LP Shares: ",E]}),(0,r.jsxs)("div",{children:["Rewards Earned: ",(0,r.jsx)("span",{className:"rewards font-semibold",children:w})]})]})}var f=e(22806),m=e(35553);function h(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function v(t,n,e,r,a,o,s){try{var u=t[o](s),c=u.value}catch(i){return void e(i)}u.done?n(c):Promise.resolve(c).then(r,a)}function x(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var o=t.apply(n,e);function s(t){v(o,r,a,s,u,"next",t)}function u(t){v(o,r,a,s,u,"throw",t)}s(void 0)}))}}function b(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,a,o=[],s=!0,u=!1;try{for(e=e.call(t);!(s=(r=e.next()).done)&&(o.push(r.value),!n||o.length!==n);s=!0);}catch(c){u=!0,a=c}finally{try{s||null==e.return||e.return()}finally{if(u)throw a}}return o}}(t,n)||function(t,n){if(!t)return;if("string"===typeof t)return h(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return h(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(){var t=(0,s.JX)().runContractFunction,n=(0,f.lm)(),e={abi:u.achieverAbi,contractAddress:u.achieverAddress,functionName:"approve"},a={abi:u.wethAbi,contractAddress:u.wethAddress,functionName:"approve"},l={abi:u.mutualsAbi,contractAddress:u.mutualsAddress,functionName:"swap"},d=(0,c.useState)("0"),p=d[0],h=d[1],v=(0,s.JX)({abi:u.mutualsAbi,contractAddress:u.mutualsAddress,functionName:"reserve0",params:{}}).runContractFunction,y=(0,s.JX)({abi:u.mutualsAbi,contractAddress:u.mutualsAddress,functionName:"reserve1",params:{}}).runContractFunction;function w(){return(w=x(o().mark((function r(){var s,c,i,l,d;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s=document.querySelector("#swap-form select").value,!((i=document.querySelector("#input_1").value)<=0)){r.next=6;break}return n({title:"Value must be greater than zero",type:"error",position:"topR"}),r.abrupt("return");case 6:return l=m.vz(i,"ether").toString(),"WETH"==s?(a.params={wad:l,guy:u.mutualsAddress},c=a):(e.params={amount:l,spender:u.mutualsAddress},c=e),r.next=10,t({params:c,onError:function(t){console.log(t),n({title:t.message,type:"error",position:"topR"})}});case 10:return d=r.sent,r.next=13,d.wait(1);case 13:A(c.contractAddress,l);case 14:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function A(t,n){return g.apply(this,arguments)}function g(){return(g=x(o().mark((function n(e,r){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l.params={_amountIn:r,_tokenIn:e},console.log({swapOptions:l}),console.log("Swapping ".concat(l.params._amountIn," ...")),n.next=5,t({params:l});case 5:return a=n.sent,n.next=8,a.wait(1);case 8:console.log("Transaction has confirmed by 1 block");case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function E(){return(E=x(o().mark((function t(n){var e,r,a,s,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("SELECT"!=n.target.tagName){t.next=4;break}document.querySelector("label[for=input_1]").textContent="Amount to swap (in ".concat(n.target.value,")"),t.next=35;break;case 4:if("WETH"!=document.querySelector("#swap-form select").value){t.next=19;break}return t.t1=i,t.next=9,v({onError:function(t){return console.log(t)}});case 9:return t.t2=t.sent,t.t3=t.t1.formatEther.call(t.t1,t.t2),t.t4=i,t.next=14,y({onError:function(t){return console.log(t)}});case 14:t.t5=t.sent,t.t6=t.t4.formatEther.call(t.t4,t.t5),t.t0=[t.t3,t.t6],t.next=30;break;case 19:return t.t7=i,t.next=22,y({onError:function(t){return console.log(t)}});case 22:return t.t8=t.sent,t.t9=t.t7.formatEther.call(t.t7,t.t8),t.t10=i,t.next=27,v({onError:function(t){return console.log(t)}});case 27:t.t11=t.sent,t.t12=t.t10.formatEther.call(t.t10,t.t11),t.t0=[t.t9,t.t12];case 30:e=t.t0,r=b(e,2),a=r[0],s=r[1],u=997*n.target.value/1e3,h(+s*u/(+a+u));case 35:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,r.jsx)("div",{className:"shadow-2xl rounded-xl p-4",children:(0,r.jsx)(f.l0,{onSubmit:function(){return w.apply(this,arguments)},onChange:function(t){return E.apply(this,arguments)},id:"swap-form",data:[{selectOptions:[{id:"ACH",label:"ACH"},{id:"WETH",label:"WETH"}],name:"Select token to swap",type:"select",value:""},{inputWidth:"50%",name:"Amount to swap",type:"number",value:"",key:"amountToSwap",validation:{required:!0}},{value:"Corresponding Token Out: ".concat(p),type:"box",key:"swap-result"}],title:"Let's swap!"})})}function w(t,n,e,r,a,o,s){try{var u=t[o](s),c=u.value}catch(i){return void e(i)}u.done?n(c):Promise.resolve(c).then(r,a)}function A(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var o=t.apply(n,e);function s(t){w(o,r,a,s,u,"next",t)}function u(t){w(o,r,a,s,u,"throw",t)}s(void 0)}))}}function g(){var t=(0,c.useState)(""),n=t[0],e=t[1],a=(0,c.useState)(""),i=a[0],l=a[1],d=(0,s.JX)().runContractFunction,p={abi:u.wethAbi,contractAddress:u.wethAddress,functionName:"approve"},h={abi:u.achieverAbi,contractAddress:u.achieverAddress,functionName:"approve"},v={abi:u.mutualsAbi,contractAddress:u.mutualsAddress,functionName:"addLiquidity"},x={abi:u.mutualsAbi,contractAddress:u.mutualsAddress,functionName:null};function b(){return(b=A(o().mark((function t(){var n,e,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=document.querySelector("#stake-form #input_0").value)<=0)){t.next=3;break}return t.abrupt("return");case 3:return p.params={wad:m.vz(n,"ether").toString(),guy:u.mutualsAddress},t.next=6,d({params:p,onError:function(t){return console.log(t)}});case 6:return e=document.querySelector("#stake-form #input_1").value,h.params={amount:m.vz(e,"ether").toString(),spender:u.mutualsAddress},t.next=10,d({params:h});case 10:return r=t.sent,t.next=13,r.wait(1);case 13:y(p.params.wad,h.params.amount);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,n){return w.apply(this,arguments)}function w(){return(w=A(o().mark((function t(n,e){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v.params={_amount0:n,_amount1:e},t.next=3,d({params:v,onError:function(t){return console.log(t)}});case 3:return r=t.sent,t.next=6,r.wait(1);case 6:console.log("Transaction has confirmed by 1 block");case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){return(g=A(o().mark((function t(n){var r,a,s,u,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.target.value<0)){t.next=2;break}return t.abrupt("return");case 2:return r="input_0"==n.target.id?"1":"0",a=Number(n.target.value).toFixed(16),s=m.vz(a,"ether").toString(),x.functionName="calculateToken".concat(r,"Amount"),console.log(s),x.params="0"==r?{y:s}:{x:s},console.log(x),t.next=11,d({params:x,onError:function(t){return console.log(t)}});case 11:u=t.sent,console.log({tx:u}),c=m.dF(u).toString(),"1"==r?l(c):e(c);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,r.jsx)("div",{className:"shadow-2xl rounded-xl p-4",children:(0,r.jsx)(f.l0,{onSubmit:function(){return b.apply(this,arguments)},onChange:function(t){return g.apply(this,arguments)},id:"stake-form",data:[{inputWidth:"50%",name:"Amount to stake (in WETH)",type:"number",value:n,key:"WETH"},{inputWidth:"50%",name:"Amount to stake (in ACH)",type:"number",value:i,key:"ACH"}],title:"Let's stake!"})})}function E(t,n,e,r,a,o,s){try{var u=t[o](s),c=u.value}catch(i){return void e(i)}u.done?n(c):Promise.resolve(c).then(r,a)}function S(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var o=t.apply(n,e);function s(t){E(o,r,a,s,u,"next",t)}function u(t){E(o,r,a,s,u,"throw",t)}s(void 0)}))}}function k(){var t=function(t,n){e({type:n,title:t,position:"topR"})},n=(0,s.JX)().runContractFunction,e=(0,f.lm)(),a=(u.wethAbi,u.wethAddress,{abi:u.mutualsAbi,contractAddress:u.mutualsAddress,functionName:"removeLiquidity"}),i=(0,c.useState)(""),l=i[0],d=i[1];function p(){return(p=S(o().mark((function e(r){var s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.data[0].inputResult.toString(),u=m.vz(s,"ether").toString(),c=h(),(s<0||s>c)&&t("the broken has occured","error"),a.params={_shares:u},e.next=7,n({params:a,onError:function(n){return t(n.message,"error")},onSuccess:function(){return t("Removed ".concat(s," LP shares"),"success")}});case 7:e.sent;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=function(){return document.querySelector(".lp").textContent};return(0,r.jsxs)("div",{className:"shadow-xl rounded-xl p-8 px-12",children:[(0,r.jsx)(f.l0,{onSubmit:function(t){return p.apply(this,arguments)},onChange:function(){return d(null)},data:[{inputWidth:"250px",name:"Amount to remove",type:"number",value:l,key:"amountToRemove",validation:{required:!0}}],title:"Remove LP Shares"}),(0,r.jsx)(f.zx,{text:"Max",onClick:function(){d(h()),console.log(l)},theme:"primary",style:{position:"relative",bottom:"120px",left:"270px",padding:"6px 12px",fontSize:"1rem"}})]})}function N(t,n,e,r,a,o,s){try{var u=t[o](s),c=u.value}catch(i){return void e(i)}u.done?n(c):Promise.resolve(c).then(r,a)}function C(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var o=t.apply(n,e);function s(t){N(o,r,a,s,u,"next",t)}function u(t){N(o,r,a,s,u,"throw",t)}s(void 0)}))}}function j(){var t=function(t,n){l({type:n,title:t,position:"topR"})},n=(0,s.Nr)(),e=(n.address,n.account),a=n.isWeb3Enabled,i=(0,s.JX)().runContractFunction,l=(0,f.lm)(),d={abi:u.mutualsAbi,contractAddress:u.mutualsAddress,functionName:"getReward"},p=(0,s.JX)({abi:u.mutualsAbi,contractAddress:u.mutualsAddress,functionName:"earned",params:{account:e}}).runContractFunction,h=(0,c.useState)(""),v=h[0],x=h[1];function b(){return(b=C(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i({params:d,onError:function(n){return console.log(n),t(n.message,"error"),n},onSuccess:function(){t("Successfully claimed ".concat(v,"!"),"success")}});case 2:n.sent;case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var y=function(){var t=C(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p();case 2:n=t.sent,x(m.dF(n).toString());case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,c.useEffect)((function(){a&&e&&y()}),[e,a]),(0,r.jsxs)("div",{className:"shadow-xl rounded-xl p-8 px-12",children:[(0,r.jsx)("h3",{className:"font-bold text-2xl mb-4 text-slate-500",children:"Claim Rewards"}),(0,r.jsx)(f.zx,{text:"Claim all rewards",theme:"primary",style:{padding:"8px",margin:"12px 0px"},onClick:function(){return b.apply(this,arguments)}}),(0,r.jsxs)("p",{className:" text-lg",children:["Rewards Earned: ",(0,r.jsx)("span",{className:"font-semibold",children:v})]})]})}function _(){var t={gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",width:"85vw"};return(0,r.jsxs)("div",{className:t.container,style:{display:"flex",flexDirection:"column",gap:"12px",alignItems:"center"},children:[(0,r.jsxs)("div",{className:"grid gap-12 pt-7",style:t,children:[(0,r.jsx)(y,{}),(0,r.jsx)(g,{})]}),(0,r.jsxs)("div",{className:"grid gap-12",style:t,children:[(0,r.jsx)(k,{}),(0,r.jsx)(j,{})]}),(0,r.jsx)(p,{})]})}}},function(t){t.O(0,[301,774,888,179],(function(){return n=78581,t(t.s=n);var n}));var n=t.O();_N_E=n}]);