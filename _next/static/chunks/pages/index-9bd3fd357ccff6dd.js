(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{78581:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(68894)}])},68894:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return F}});var r=e(85893),a=e(7160),o=e.n(a),s=(e(10292),e(34051)),u=e.n(s),c=e(83078),i=e(96301),l=e(67294),d=e(20401);function p(t,n,e,r,a,o,s){try{var u=t[o](s),c=u.value}catch(i){return void e(i)}u.done?n(c):Promise.resolve(c).then(r,a)}function f(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var o=t.apply(n,e);function s(t){p(o,r,a,s,u,"next",t)}function u(t){p(o,r,a,s,u,"throw",t)}s(void 0)}))}}function m(){var t=(0,c.Nr)(),n=(t.address,t.account),e=t.isWeb3Enabled,a=(0,l.useState)("0"),o=a[0],s=a[1],p=(0,l.useState)("0"),m=p[0],h=p[1],v=(0,l.useState)("0"),x=v[0],b=v[1],y=(0,l.useState)("0"),w=y[0],A=y[1],g=(0,l.useState)("0"),_=g[0],E=g[1],S=(0,c.JX)({abi:i.achieverAbi,contractAddress:i.achieverAddress,functionName:"balanceOf",params:{account:n}}).runContractFunction,k=(0,c.JX)({abi:i.wethAbi,contractAddress:i.wethAddress,functionName:"balanceOf",params:{Matthew:n}}).runContractFunction,N=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"balanceOf",params:{Elkanah:n}}).runContractFunction,C=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"earned",params:{account:n}}).runContractFunction,j=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"totalSupply",params:{}}).runContractFunction;function H(){return(H=f(u().mark((function t(){var n,e,r,a,o;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=d,t.next=3,S({onError:function(t){return console.log(t)}});case 3:return t.t1=t.sent,n=t.t0.formatEther.call(t.t0,t.t1),s(n),t.t2=d,t.next=9,k({onError:function(t){return console.log(t)}});case 9:return t.t3=t.sent,e=t.t2.formatEther.call(t.t2,t.t3),h(e),t.t4=d,t.next=15,N({onError:function(t){return console.log(t)}});case 15:return t.t5=t.sent,r=t.t4.formatEther.call(t.t4,t.t5),b(r),t.t6=d,t.next=21,C({onError:function(t){return console.log(t)}});case 21:return t.t7=t.sent,a=t.t6.formatEther.call(t.t6,t.t7),A(a),t.t8=d,t.next=27,j({onError:function(t){return console.log(t)}});case 27:t.t9=t.sent,o=t.t8.formatEther.call(t.t8,t.t9),E(o);case 30:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,l.useEffect)((function(){e&&n&&function(){H.apply(this,arguments)}()}),[n,e]),(0,r.jsxs)("div",{className:"flex flex-col p-4",children:[(0,r.jsxs)("div",{children:["Your ACH Balance: ",o]}),(0,r.jsxs)("div",{children:["Your WETH Balance: ",m]}),(0,r.jsxs)("div",{children:["Your LP Shares: ",(0,r.jsx)("span",{className:"lp font-semibold",children:x})]}),(0,r.jsxs)("div",{children:["Contract LP Shares: ",_]}),(0,r.jsxs)("div",{children:["Rewards Earned: ",(0,r.jsx)("span",{className:"rewards font-semibold",children:w})]})]})}var h=e(69251),v=e(35553);function x(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function b(t,n,e,r,a,o,s){try{var u=t[o](s),c=u.value}catch(i){return void e(i)}u.done?n(c):Promise.resolve(c).then(r,a)}function y(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var o=t.apply(n,e);function s(t){b(o,r,a,s,u,"next",t)}function u(t){b(o,r,a,s,u,"throw",t)}s(void 0)}))}}function w(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,a,o=[],s=!0,u=!1;try{for(e=e.call(t);!(s=(r=e.next()).done)&&(o.push(r.value),!n||o.length!==n);s=!0);}catch(c){u=!0,a=c}finally{try{s||null==e.return||e.return()}finally{if(u)throw a}}return o}}(t,n)||function(t,n){if(!t)return;if("string"===typeof t)return x(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return x(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(){var t=(0,c.JX)().runContractFunction,n=(0,h.lm)(),e={abi:i.achieverAbi,contractAddress:i.achieverAddress,functionName:"approve"},a={abi:i.wethAbi,contractAddress:i.wethAddress,functionName:"approve"},o={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"swap"},s=(0,l.useState)("0"),p=s[0],f=s[1],m=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"reserve0",params:{}}).runContractFunction,x=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"reserve1",params:{}}).runContractFunction;function b(){return(b=y(u().mark((function r(){var o,s,c,l,d;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=document.querySelector("#swap-form select").value,!((c=document.querySelector("#input_1").value)<=0)){r.next=6;break}return n({title:"Value must be greater than zero",type:"error",position:"topR"}),r.abrupt("return");case 6:return l=v.vz(c,"ether").toString(),"WETH"==o?(a.params={wad:l,guy:i.mutualsAddress},s=a):(e.params={amount:l,spender:i.mutualsAddress},s=e),r.next=10,t({params:s,onError:function(t){console.log(t),n({title:t.message,type:"error",position:"topR"})}});case 10:return d=r.sent,r.next=13,d.wait(1);case 13:A(s.contractAddress,l);case 14:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function A(t,n){return g.apply(this,arguments)}function g(){return(g=y(u().mark((function n(e,r){var a;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.params={_amountIn:r,_tokenIn:e},console.log({swapOptions:o}),console.log("Swapping ".concat(o.params._amountIn," ...")),n.next=5,t({params:o});case 5:return a=n.sent,n.next=8,a.wait(1);case 8:console.log("Transaction has confirmed by 1 block");case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function _(){return(_=y(u().mark((function t(n){var e,r,a,o,s;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("SELECT"!=n.target.tagName){t.next=4;break}document.querySelector("label[for=input_1]").textContent="Amount to swap (in ".concat(n.target.value,")"),t.next=35;break;case 4:if("WETH"!=document.querySelector("#swap-form select").value){t.next=19;break}return t.t1=d,t.next=9,m({onError:function(t){return console.log(t)}});case 9:return t.t2=t.sent,t.t3=t.t1.formatEther.call(t.t1,t.t2),t.t4=d,t.next=14,x({onError:function(t){return console.log(t)}});case 14:t.t5=t.sent,t.t6=t.t4.formatEther.call(t.t4,t.t5),t.t0=[t.t3,t.t6],t.next=30;break;case 19:return t.t7=d,t.next=22,x({onError:function(t){return console.log(t)}});case 22:return t.t8=t.sent,t.t9=t.t7.formatEther.call(t.t7,t.t8),t.t10=d,t.next=27,m({onError:function(t){return console.log(t)}});case 27:t.t11=t.sent,t.t12=t.t10.formatEther.call(t.t10,t.t11),t.t0=[t.t9,t.t12];case 30:e=t.t0,r=w(e,2),a=r[0],o=r[1],s=997*n.target.value/1e3,f(+o*s/(+a+s));case 35:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,r.jsx)("div",{className:"shadow-2xl rounded-xl p-4",children:(0,r.jsx)(h.l0,{onSubmit:function(){return b.apply(this,arguments)},onChange:function(t){return _.apply(this,arguments)},id:"swap-form",data:[{selectOptions:[{id:"ACH",label:"ACH"},{id:"WETH",label:"WETH"}],name:"Select token to swap",type:"select",value:""},{inputWidth:"50%",name:"Amount to swap",type:"number",value:"",key:"amountToSwap",validation:{required:!0}},{value:"Corresponding Token Out: ".concat(p),type:"box",key:"swap-result"}],title:"Let's swap!"})})}function g(t,n,e,r,a,o,s){try{var u=t[o](s),c=u.value}catch(i){return void e(i)}u.done?n(c):Promise.resolve(c).then(r,a)}function _(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var o=t.apply(n,e);function s(t){g(o,r,a,s,u,"next",t)}function u(t){g(o,r,a,s,u,"throw",t)}s(void 0)}))}}function E(){var t=(0,l.useState)(""),n=t[0],e=t[1],a=(0,l.useState)(""),o=a[0],s=a[1],d=(0,c.JX)().runContractFunction,p={abi:i.wethAbi,contractAddress:i.wethAddress,functionName:"approve"},f={abi:i.achieverAbi,contractAddress:i.achieverAddress,functionName:"approve"},m={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"addLiquidity"},x={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:null};function b(){return(b=_(u().mark((function t(){var n,e,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=document.querySelector("#stake-form #input_0").value)<=0)){t.next=3;break}return t.abrupt("return");case 3:return p.params={wad:v.vz(n,"ether").toString(),guy:i.mutualsAddress},t.next=6,d({params:p,onError:function(t){return console.log(t)}});case 6:return e=document.querySelector("#stake-form #input_1").value,f.params={amount:v.vz(e,"ether").toString(),spender:i.mutualsAddress},t.next=10,d({params:f});case 10:return r=t.sent,t.next=13,r.wait(1);case 13:y(p.params.wad,f.params.amount);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,n){return w.apply(this,arguments)}function w(){return(w=_(u().mark((function t(n,e){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m.params={_amount0:n,_amount1:e},t.next=3,d({params:m,onError:function(t){return console.log(t)}});case 3:return r=t.sent,t.next=6,r.wait(1);case 6:console.log("Transaction has confirmed by 1 block");case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(){return(A=_(u().mark((function t(n){var r,a,o,c,i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.target.value<0)){t.next=2;break}return t.abrupt("return");case 2:return r="input_0"==n.target.id?"1":"0",a=Number(n.target.value).toFixed(16),o=v.vz(a,"ether").toString(),x.functionName="calculateToken".concat(r,"Amount"),console.log(o),x.params="0"==r?{y:o}:{x:o},console.log(x),t.next=11,d({params:x,onError:function(t){return console.log(t)}});case 11:c=t.sent,console.log({tx:c}),i=v.dF(c).toString(),"1"==r?s(i):e(i);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,r.jsx)("div",{className:"shadow-2xl rounded-xl p-4",children:(0,r.jsx)(h.l0,{onSubmit:function(){return b.apply(this,arguments)},onChange:function(t){return A.apply(this,arguments)},id:"stake-form",data:[{inputWidth:"50%",name:"Amount to stake (in WETH)",type:"number",value:n,key:"WETH"},{inputWidth:"50%",name:"Amount to stake (in ACH)",type:"number",value:o,key:"ACH"}],title:"Let's stake!"})})}function S(t,n,e,r,a,o,s){try{var u=t[o](s),c=u.value}catch(i){return void e(i)}u.done?n(c):Promise.resolve(c).then(r,a)}function k(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var o=t.apply(n,e);function s(t){S(o,r,a,s,u,"next",t)}function u(t){S(o,r,a,s,u,"throw",t)}s(void 0)}))}}function N(){var t=function(t,n){e({type:n,title:t,position:"topR"})},n=(0,c.JX)().runContractFunction,e=(0,h.lm)(),a=(i.wethAbi,i.wethAddress,{abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"removeLiquidity"}),o=(0,l.useState)(""),s=o[0],d=o[1];function p(){return(p=k(u().mark((function e(r){var o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.data[0].inputResult.toString(),s=v.vz(o,"ether").toString(),c=f(),(o<0||o>c)&&t("the broken has occured","error"),a.params={_shares:s},e.next=7,n({params:a,onError:function(n){return t(n.message,"error")},onSuccess:function(){return t("Removed ".concat(o," LP shares"),"success")}});case 7:e.sent;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=function(){return document.querySelector(".lp").textContent};return(0,r.jsxs)("div",{className:"shadow-xl rounded-xl p-8 px-12",children:[(0,r.jsx)(h.l0,{onSubmit:function(t){return p.apply(this,arguments)},onChange:function(){return d(null)},data:[{inputWidth:"250px",name:"Amount to remove",type:"number",value:s,key:"amountToRemove",validation:{required:!0}}],title:"Remove LP Shares"}),(0,r.jsx)(h.zx,{text:"Max",onClick:function(){d(f()),console.log(s)},theme:"primary",style:{position:"relative",bottom:"120px",left:"270px",padding:"6px 12px",fontSize:"1rem"}})]})}var C=e(45474),j=e(68815);function H(t,n,e,r,a,o,s){try{var u=t[o](s),c=u.value}catch(i){return void e(i)}u.done?n(c):Promise.resolve(c).then(r,a)}function T(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var o=t.apply(n,e);function s(t){H(o,r,a,s,u,"next",t)}function u(t){H(o,r,a,s,u,"throw",t)}s(void 0)}))}}function P(){var t=function(t,n){s({type:n,title:t,position:"topR"})},n=(0,c.Nr)(),e=(n.address,n.account),a=n.isWeb3Enabled,o=(0,c.JX)().runContractFunction,s=(0,h.lm)(),d={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"getReward"},p=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"earned",params:{account:e}}).runContractFunction,f=(0,l.useState)(""),m=f[0],x=f[1];function b(){return(b=T(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o({params:d,onError:function(n){return console.log(n),t(n.message,"error"),n},onSuccess:function(){t("Successfully claimed ".concat(m,"!"),"success")}});case 2:n.sent;case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var y=function(){var t=T(u().mark((function t(){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p();case 2:n=t.sent,x(v.dF(n).toString());case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,l.useEffect)((function(){a&&e&&y()}),[e,a]),(0,r.jsx)(j.ZP,{children:(0,r.jsxs)("div",{className:"shadow-xl rounded-xl p-8 px-12",children:[(0,r.jsx)("h3",{className:"font-bold text-2xl mb-4 text-slate-500",children:"Claim Rewards"}),(0,r.jsx)(C.Z,{className:"p-2 my-3",variant:"contained",onClick:function(){return b.apply(this,arguments)},disabled:!Number(m),children:"Claim rewards"}),(0,r.jsxs)("p",{className:" text-lg",children:["Rewards Earned: ",(0,r.jsx)("span",{className:"font-semibold",children:m})]})]})})}function F(){var t={gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",width:"85vw"};return(0,r.jsxs)("div",{className:o().container,style:{display:"flex",flexDirection:"column",gap:"12px",alignItems:"center"},children:[(0,r.jsxs)("div",{className:"grid gap-12 pt-7",style:t,children:[(0,r.jsx)(A,{}),(0,r.jsx)(E,{})]}),(0,r.jsxs)("div",{className:"grid gap-12",style:t,children:[(0,r.jsx)(N,{}),(0,r.jsx)(P,{})]}),(0,r.jsx)(m,{})]})}},7160:function(t){t.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}},69649:function(){},7801:function(){},6042:function(){},74801:function(){},30991:function(){},68587:function(){}},function(t){t.O(0,[593,993,798,301,774,888,179],(function(){return n=78581,t(t.s=n);var n}));var n=t.O();_N_E=n}]);