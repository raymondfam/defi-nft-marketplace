(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{78581:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(68894)}])},68894:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return q}});var r=n(85893),a=n(7160),o=n.n(a),s=(n(10292),n(34051)),u=n.n(s),c=n(83078),i=n(96301),l=n(67294),d=n(20401);function f(t,e,n,r,a,o,s){try{var u=t[o](s),c=u.value}catch(i){return void n(i)}u.done?e(c):Promise.resolve(c).then(r,a)}function m(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function s(t){f(o,r,a,s,u,"next",t)}function u(t){f(o,r,a,s,u,"throw",t)}s(void 0)}))}}function p(){var t=(0,c.Nr)(),e=(t.address,t.account),n=t.isWeb3Enabled,r=(0,l.useState)("0"),a=r[0],o=r[1],s=(0,l.useState)("0"),f=s[0],p=s[1],h=(0,l.useState)("0"),v=h[0],x=h[1],b=(0,l.useState)("0"),y=b[0],w=b[1],g=(0,l.useState)("0"),A=g[0],N=g[1],_=(0,c.JX)({abi:i.achieverAbi,contractAddress:i.achieverAddress,functionName:"balanceOf",params:{account:e}}).runContractFunction,j=(0,c.JX)({abi:i.wethAbi,contractAddress:i.wethAddress,functionName:"balanceOf",params:{Matthew:e}}).runContractFunction,S=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"balanceOf",params:{Elkanah:e}}).runContractFunction,k=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"earned",params:{account:e}}).runContractFunction,E=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"totalSupply",params:{}}).runContractFunction;function C(){return(C=m(u().mark((function t(){var e,n,r,a,s;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=d,t.next=3,_({onError:function(t){return console.log(t)}});case 3:return t.t1=t.sent,e=t.t0.formatEther.call(t.t0,t.t1),o(e),t.t2=d,t.next=9,j({onError:function(t){return console.log(t)}});case 9:return t.t3=t.sent,n=t.t2.formatEther.call(t.t2,t.t3),p(n),t.t4=d,t.next=15,S({onError:function(t){return console.log(t)}});case 15:return t.t5=t.sent,r=t.t4.formatEther.call(t.t4,t.t5),x(r),t.t6=d,t.next=21,k({onError:function(t){return console.log(t)}});case 21:return t.t7=t.sent,a=t.t6.formatEther.call(t.t6,t.t7),w(a),t.t8=d,t.next=27,E({onError:function(t){return console.log(t)}});case 27:t.t9=t.sent,s=t.t8.formatEther.call(t.t8,t.t9),N(s);case 30:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,l.useEffect)((function(){n&&e&&function(){C.apply(this,arguments)}()}),[e,n]),{earningsBalance:y,lpBalance:v,totalLPBalance:A,achBalance:a,wethBalance:f}}var h=n(69251),v=n(35553),x=n(10913),b=n(33841),y=n(53179),w=n(55819),g=n(5449),A=n(83321);function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _(t,e,n,r,a,o,s){try{var u=t[o](s),c=u.value}catch(i){return void n(i)}u.done?e(c):Promise.resolve(c).then(r,a)}function j(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function s(t){_(o,r,a,s,u,"next",t)}function u(t){_(o,r,a,s,u,"throw",t)}s(void 0)}))}}function S(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o=[],s=!0,u=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(c){u=!0,a=c}finally{try{s||null==n.return||n.return()}finally{if(u)throw a}}return o}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(){var t=(0,c.JX)().runContractFunction,e=(0,h.lm)(),n={abi:i.achieverAbi,contractAddress:i.achieverAddress,functionName:"approve"},a={abi:i.wethAbi,contractAddress:i.wethAddress,functionName:"approve"},o={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"swap"},s=(0,l.useState)("0"),f=s[0],m=s[1],N=(0,l.useState)(""),_=N[0],k=N[1],E=(0,l.useState)(!1),C=E[0],H=E[1],P=p(),T=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"reserve0",params:{}}).runContractFunction,L=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"reserve1",params:{}}).runContractFunction;function F(){return(F=j(u().mark((function r(o){var s,c,l,d;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o.preventDefault(),!((c=document.querySelector("#swap-amount").value)<=0)){r.next=6;break}return H(!1),r.abrupt("return");case 6:return H(!0),l=v.vz(c,"ether").toString(),"WETH"==_?(a.params={wad:l,guy:i.mutualsAddress},s=a):(n.params={amount:l,spender:i.mutualsAddress},s=n),r.next=11,t({params:s,onError:function(t){console.log(t),e({title:t.message,type:"error",position:"topR"}),H(!1)}});case 11:if(d=r.sent){r.next=14;break}return r.abrupt("return");case 14:return r.next=16,d.wait(1);case 16:X(s.contractAddress,l);case 17:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function X(t,e){return B.apply(this,arguments)}function B(){return(B=j(u().mark((function n(r,a){var s;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.params={_amountIn:a,_tokenIn:r},console.log("Swapping ".concat(o.params._amountIn," ...")),n.next=4,t({params:o,onSuccess:function(){return e({title:"Successfully Swapped",type:"success",position:"topR"})}});case 4:return s=n.sent,n.next=7,s.wait(1);case 7:console.log("Transaction has confirmed by 1 block");case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function I(t){return O.apply(this,arguments)}function O(){return(O=j(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=document.querySelector("#swap-amount"),!isNaN(e.target.value)){t.next=5;break}n.value="",m(0),k(e.target.value),t.next=10;break;case 5:return t.t0=m,t.next=8,q(n.value);case 8:t.t1=t.sent,(0,t.t0)(t.t1);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(t){return J.apply(this,arguments)}function J(){return(J=j(u().mark((function t(e){var n,r,a,o,s,c,i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_){t.next=2;break}return t.abrupt("return",0);case 2:return t.t0=d,t.next=5,T();case 5:return t.t1=t.sent,n=t.t0.formatEther.call(t.t0,t.t1),t.t2=d,t.next=10,L();case 10:return t.t3=t.sent,r=t.t2.formatEther.call(t.t2,t.t3),null,a=S("ACH"==_?[n,r]:[r,n],2),o=a[0],s=a[1],i=+s*(c=997*e/1e3)/(+o+c),t.abrupt("return",i);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,r.jsxs)("div",{className:"shadow-2xl rounded-xl p-8 px-12",children:[(0,r.jsx)("h3",{className:"font-bold text-2xl mb-4 text-slate-500",children:"Let's swap!"}),(0,r.jsxs)("form",{action:"",className:"flex flex-col gap-6 py-2",children:[(0,r.jsxs)(x.Z,{size:"small",className:"w-1/2",children:[(0,r.jsx)(b.Z,{id:"select",children:"Select a token"}),(0,r.jsxs)(y.Z,{value:_,onChange:I,label:"select",children:[(0,r.jsx)(w.Z,{value:"ACH",children:"ACH"}),(0,r.jsx)(w.Z,{value:"WETH",children:"WETH"})]})]}),(0,r.jsx)(g.Z,{className:"w-1/2",id:"swap-amount",label:"Amount to swap",size:"small",onChange:I,type:"number",required:!0}),(0,r.jsxs)("div",{className:"info text-lg",children:[(0,r.jsxs)("p",{children:["Corresponding Token Out: ",(0,r.jsxs)("span",{className:"font-bold",children:[" ",f]})]}),(0,r.jsxs)("div",{children:["Your ACH Balance:",(0,r.jsxs)("span",{className:"font-bold",children:[" ",P.achBalance]})]}),(0,r.jsxs)("div",{children:["Your WETH Balance: ",(0,r.jsx)("span",{className:"font-bold",children:P.wethBalance})]})]}),(0,r.jsx)(A.Z,{variant:"contained",className:"max-w-[110px] rounded-lg p-2",type:"submit",onClick:function(t){return F.apply(this,arguments)},disabled:C,children:"Submit"})]})]})}function E(t,e,n,r,a,o,s){try{var u=t[o](s),c=u.value}catch(i){return void n(i)}u.done?e(c):Promise.resolve(c).then(r,a)}function C(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function s(t){E(o,r,a,s,u,"next",t)}function u(t){E(o,r,a,s,u,"throw",t)}s(void 0)}))}}function H(){var t=(0,l.useState)(""),e=t[0],n=t[1],a=(0,l.useState)(""),o=a[0],s=a[1],d=(0,c.JX)().runContractFunction,f={abi:i.wethAbi,contractAddress:i.wethAddress,functionName:"approve"},m={abi:i.achieverAbi,contractAddress:i.achieverAddress,functionName:"approve"},p={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"addLiquidity"},x={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:null};function b(){return(b=C(u().mark((function t(){var e,n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((e=document.querySelector("#stake-form #input_0").value)<=0)){t.next=3;break}return t.abrupt("return");case 3:return f.params={wad:v.vz(e,"ether").toString(),guy:i.mutualsAddress},t.next=6,d({params:f,onError:function(t){return console.log(t)}});case 6:return n=document.querySelector("#stake-form #input_1").value,m.params={amount:v.vz(n,"ether").toString(),spender:i.mutualsAddress},t.next=10,d({params:m});case 10:return r=t.sent,t.next=13,r.wait(1);case 13:y(f.params.wad,m.params.amount);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e){return w.apply(this,arguments)}function w(){return(w=C(u().mark((function t(e,n){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p.params={_amount0:e,_amount1:n},t.next=3,d({params:p,onError:function(t){return console.log(t)}});case 3:return r=t.sent,t.next=6,r.wait(1);case 6:console.log("Transaction has confirmed by 1 block");case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){return(g=C(u().mark((function t(e){var r,a,o,c,i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.target.value<0)){t.next=2;break}return t.abrupt("return");case 2:return r="input_0"==e.target.id?"1":"0",a=Number(e.target.value).toFixed(16),o=v.vz(a,"ether").toString(),x.functionName="calculateToken".concat(r,"Amount"),console.log(o),x.params="0"==r?{y:o}:{x:o},console.log(x),t.next=11,d({params:x,onError:function(t){return console.log(t)}});case 11:c=t.sent,console.log({tx:c}),i=v.dF(c).toString(),"1"==r?s(i):n(i);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,r.jsx)("div",{className:"shadow-2xl rounded-xl p-4",children:(0,r.jsx)(h.l0,{onSubmit:function(){return b.apply(this,arguments)},onChange:function(t){return g.apply(this,arguments)},id:"stake-form",data:[{inputWidth:"50%",name:"Amount to stake (in WETH)",type:"number",value:e,key:"WETH"},{inputWidth:"50%",name:"Amount to stake (in ACH)",type:"number",value:o,key:"ACH"}],title:"Let's stake!"})})}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T(t,e,n,r,a,o,s){try{var u=t[o](s),c=u.value}catch(i){return void n(i)}u.done?e(c):Promise.resolve(c).then(r,a)}function L(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function s(t){T(o,r,a,s,u,"next",t)}function u(t){T(o,r,a,s,u,"throw",t)}s(void 0)}))}}function F(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o=[],s=!0,u=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(c){u=!0,a=c}finally{try{s||null==n.return||n.return()}finally{if(u)throw a}}return o}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(){var t=function(t,e){n({type:e,title:t,position:"topR"})},e=(0,c.JX)().runContractFunction,n=(0,h.lm)(),a={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"removeLiquidity"},o=(0,l.useState)(!1),s=o[0],d=o[1],f=F(function(){var t=p();return[t.lpBalance,t.totalLPBalance]}(),2),m=f[0],x=f[1];function b(){return(b=L(u().mark((function n(){var r,o;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d(!0),((r=document.querySelector("#amount-to-remove").value)<=0||r>m)&&(d(!1),t("Error: Invalid amount","error")),o=v.vz(r,"ether").toString(),a.params={_shares:o},n.next=7,e({params:a,onError:function(e){return t(e.message,"error")},onSuccess:function(){return t("Removed ".concat(r," LP shares"),"success")}});case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,r.jsxs)("div",{className:"shadow-xl rounded-xl p-8 px-12",children:[(0,r.jsx)("h3",{className:"font-bold text-2xl mb-4 text-slate-500",children:"Remove Liquidity"}),(0,r.jsxs)("form",{action:"",className:"flex flex-col gap-6 py-2",children:[(0,r.jsxs)("div",{className:"flex gap-1",children:[(0,r.jsx)(g.Z,{className:"w-1/2",id:"amount-to-remove",size:"small",type:"number",required:!0,label:"Amount to remove",onChange:function(t){t.target.value<0&&(t.target.value=0)},InputLabelProps:{shrink:!0}}),(0,r.jsx)(A.Z,{variant:"contained",className:"bg-emerald-500 rounded-md",onClick:function(){var t=document.querySelector("#amount-to-remove");t.focus(),t.value=m},children:"Max"})]}),(0,r.jsxs)("div",{className:"text-lg",children:["LP Shares: ",(0,r.jsx)("span",{className:"font-bold",children:m}),(0,r.jsx)("br",{}),"Contract LP Shares: ",(0,r.jsx)("span",{className:"font-bold",children:x})]}),(0,r.jsx)(A.Z,{variant:"contained",className:"max-w-[110px] rounded-lg p-2",type:"submit",onClick:function(){return b.apply(this,arguments)},disabled:s,children:"Submit"})]})]})}function B(t,e,n,r,a,o,s){try{var u=t[o](s),c=u.value}catch(i){return void n(i)}u.done?e(c):Promise.resolve(c).then(r,a)}function I(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function s(t){B(o,r,a,s,u,"next",t)}function u(t){B(o,r,a,s,u,"throw",t)}s(void 0)}))}}function O(){var t=function(t,e){n({type:e,title:t,position:"topR"})},e=(0,c.JX)().runContractFunction,n=(0,h.lm)(),a={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"getReward"},o=p().earningsBalance;function s(){return(s=I(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return m(!0),n.next=3,e({params:a,onError:function(e){return console.log(e),t(e.message,"error"),m(!1),e},onSuccess:function(){m(!1),t("Successfully claimed ".concat(o,"!"),"success")}});case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}console.log(o);var d=(0,l.useState)(!1),f=d[0],m=d[1];return(0,l.useEffect)((function(){Number(o)?m(!1):m(!0)}),[o]),(0,r.jsxs)("div",{className:"shadow-xl rounded-xl p-8 px-12",children:[(0,r.jsx)("h3",{className:"font-bold text-2xl mb-4 text-slate-500",children:"Claim Rewards"}),(0,r.jsxs)("p",{className:" text-lg",children:["Rewards Earned: ",(0,r.jsx)("span",{className:"font-semibold",children:o})]}),(0,r.jsx)(A.Z,{className:"p-2 my-3 rounded-lg",variant:"contained",size:"large",onClick:function(){return s.apply(this,arguments)},disabled:f,children:"Claim rewards"})]})}function q(){var t={gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",width:"85vw"};return(0,r.jsxs)("div",{className:o().container,style:{display:"flex",flexDirection:"column",gap:"12px",alignItems:"center"},children:[(0,r.jsxs)("div",{className:"grid gap-12 pt-7",style:t,children:[(0,r.jsx)(k,{}),(0,r.jsx)(H,{})]}),(0,r.jsxs)("div",{className:"grid gap-12",style:t,children:[(0,r.jsx)(X,{}),(0,r.jsx)(O,{})]})]})}},7160:function(t){t.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}},69649:function(){},7801:function(){},6042:function(){},74801:function(){},30991:function(){},68587:function(){}},function(t){t.O(0,[593,993,753,301,774,888,179],(function(){return e=78581,t(t.s=e);var e}));var e=t.O();_N_E=e}]);