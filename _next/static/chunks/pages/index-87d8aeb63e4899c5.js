(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{78581:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(68894)}])},68894:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return T}});var r=n(85893),a=n(7160),o=n.n(a),s=(n(10292),n(34051)),u=n.n(s),c=n(83078),i=n(96301),l=n(67294),d=n(92301);function p(t,e,n,r,a,o,s){try{var u=t[o](s),c=u.value}catch(i){return void n(i)}u.done?e(c):Promise.resolve(c).then(r,a)}function m(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function s(t){p(o,r,a,s,u,"next",t)}function u(t){p(o,r,a,s,u,"throw",t)}s(void 0)}))}}function f(){var t=(0,c.Nr)(),e=(t.address,t.account),n=t.isWeb3Enabled,a=(0,l.useState)("0"),o=a[0],s=a[1],p=(0,l.useState)("0"),f=p[0],h=p[1],v=(0,l.useState)("0"),x=v[0],b=v[1],y=(0,l.useState)("0"),w=y[0],A=y[1],g=(0,l.useState)("0"),_=g[0],E=g[1],S=(0,c.JX)({abi:i.achieverAbi,contractAddress:i.achieverAddress,functionName:"balanceOf",params:{account:e}}).runContractFunction,k=(0,c.JX)({abi:i.wethAbi,contractAddress:i.wethAddress,functionName:"balanceOf",params:{Matthew:e}}).runContractFunction,N=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"balanceOf",params:{Elkanah:e}}).runContractFunction,C=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"earned",params:{account:e}}).runContractFunction,j=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"totalSupply",params:{}}).runContractFunction;function H(){return(H=m(u().mark((function t(){var e,n,r,a,o;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=d,t.next=3,S({onError:function(t){return console.log(t)}});case 3:return t.t1=t.sent,e=t.t0.formatEther.call(t.t0,t.t1),s(e),t.t2=d,t.next=9,k({onError:function(t){return console.log(t)}});case 9:return t.t3=t.sent,n=t.t2.formatEther.call(t.t2,t.t3),h(n),t.t4=d,t.next=15,N({onError:function(t){return console.log(t)}});case 15:return t.t5=t.sent,r=t.t4.formatEther.call(t.t4,t.t5),b(r),t.t6=d,t.next=21,C({onError:function(t){return console.log(t)}});case 21:return t.t7=t.sent,a=t.t6.formatEther.call(t.t6,t.t7),A(a),t.t8=d,t.next=27,j({onError:function(t){return console.log(t)}});case 27:t.t9=t.sent,o=t.t8.formatEther.call(t.t8,t.t9),E(o);case 30:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,l.useEffect)((function(){n&&e&&function(){H.apply(this,arguments)}()}),[e,n]),(0,r.jsxs)("div",{className:"flex flex-col p-4",children:[(0,r.jsxs)("div",{children:["Your ACH Balance: ",o]}),(0,r.jsxs)("div",{children:["Your WETH Balance: ",f]}),(0,r.jsxs)("div",{children:["Your LP Shares: ",(0,r.jsx)("span",{className:"lp font-semibold",children:x})]}),(0,r.jsxs)("div",{children:["Contract LP Shares: ",_]}),(0,r.jsxs)("div",{children:["Rewards Earned: ",(0,r.jsx)("span",{className:"rewards font-semibold",children:w})]})]})}var h=n(22806),v=n(35553);function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t,e,n,r,a,o,s){try{var u=t[o](s),c=u.value}catch(i){return void n(i)}u.done?e(c):Promise.resolve(c).then(r,a)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function s(t){b(o,r,a,s,u,"next",t)}function u(t){b(o,r,a,s,u,"throw",t)}s(void 0)}))}}function w(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o=[],s=!0,u=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(c){u=!0,a=c}finally{try{s||null==n.return||n.return()}finally{if(u)throw a}}return o}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(){var t=(0,c.JX)().runContractFunction,e=(0,h.lm)(),n={abi:i.achieverAbi,contractAddress:i.achieverAddress,functionName:"approve"},a={abi:i.wethAbi,contractAddress:i.wethAddress,functionName:"approve"},o={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"swap"},s=(0,l.useState)("0"),p=s[0],m=s[1],f=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"reserve0",params:{}}).runContractFunction,x=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"reserve1",params:{}}).runContractFunction;function b(){return(b=y(u().mark((function r(){var o,s,c,l,d;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=document.querySelector("#swap-form select").value,!((c=document.querySelector("#input_1").value)<=0)){r.next=6;break}return e({title:"Value must be greater than zero",type:"error",position:"topR"}),r.abrupt("return");case 6:return l=v.vz(c,"ether").toString(),"WETH"==o?(a.params={wad:l,guy:i.mutualsAddress},s=a):(n.params={amount:l,spender:i.mutualsAddress},s=n),r.next=10,t({params:s,onError:function(t){console.log(t),e({title:t.message,type:"error",position:"topR"})}});case 10:return d=r.sent,r.next=13,d.wait(1);case 13:A(s.contractAddress,l);case 14:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function A(t,e){return g.apply(this,arguments)}function g(){return(g=y(u().mark((function e(n,r){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.params={_amountIn:r,_tokenIn:n},console.log({swapOptions:o}),console.log("Swapping ".concat(o.params._amountIn," ...")),e.next=5,t({params:o});case 5:return a=e.sent,e.next=8,a.wait(1);case 8:console.log("Transaction has confirmed by 1 block");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=y(u().mark((function t(e){var n,r,a,o,s;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("SELECT"!=e.target.tagName){t.next=4;break}document.querySelector("label[for=input_1]").textContent="Amount to swap (in ".concat(e.target.value,")"),t.next=35;break;case 4:if("WETH"!=document.querySelector("#swap-form select").value){t.next=19;break}return t.t1=d,t.next=9,f({onError:function(t){return console.log(t)}});case 9:return t.t2=t.sent,t.t3=t.t1.formatEther.call(t.t1,t.t2),t.t4=d,t.next=14,x({onError:function(t){return console.log(t)}});case 14:t.t5=t.sent,t.t6=t.t4.formatEther.call(t.t4,t.t5),t.t0=[t.t3,t.t6],t.next=30;break;case 19:return t.t7=d,t.next=22,x({onError:function(t){return console.log(t)}});case 22:return t.t8=t.sent,t.t9=t.t7.formatEther.call(t.t7,t.t8),t.t10=d,t.next=27,f({onError:function(t){return console.log(t)}});case 27:t.t11=t.sent,t.t12=t.t10.formatEther.call(t.t10,t.t11),t.t0=[t.t9,t.t12];case 30:n=t.t0,r=w(n,2),a=r[0],o=r[1],s=997*e.target.value/1e3,m(+o*s/(+a+s));case 35:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,r.jsx)("div",{className:"shadow-2xl rounded-xl p-4",children:(0,r.jsx)(h.l0,{onSubmit:function(){return b.apply(this,arguments)},onChange:function(t){return _.apply(this,arguments)},id:"swap-form",data:[{selectOptions:[{id:"ACH",label:"ACH"},{id:"WETH",label:"WETH"}],name:"Select token to swap",type:"select",value:""},{inputWidth:"50%",name:"Amount to swap",type:"number",value:"",key:"amountToSwap",validation:{required:!0}},{value:"Corresponding Token Out: ".concat(p),type:"box",key:"swap-result"}],title:"Let's swap!"})})}function g(t,e,n,r,a,o,s){try{var u=t[o](s),c=u.value}catch(i){return void n(i)}u.done?e(c):Promise.resolve(c).then(r,a)}function _(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function s(t){g(o,r,a,s,u,"next",t)}function u(t){g(o,r,a,s,u,"throw",t)}s(void 0)}))}}function E(){var t=(0,l.useState)(""),e=t[0],n=t[1],a=(0,l.useState)(""),o=a[0],s=a[1],d=(0,c.JX)().runContractFunction,p={abi:i.wethAbi,contractAddress:i.wethAddress,functionName:"approve"},m={abi:i.achieverAbi,contractAddress:i.achieverAddress,functionName:"approve"},f={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"addLiquidity"},x={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:null};function b(){return(b=_(u().mark((function t(){var e,n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((e=document.querySelector("#stake-form #input_0").value)<=0)){t.next=3;break}return t.abrupt("return");case 3:return p.params={wad:v.vz(e,"ether").toString(),guy:i.mutualsAddress},t.next=6,d({params:p,onError:function(t){return console.log(t)}});case 6:return n=document.querySelector("#stake-form #input_1").value,m.params={amount:v.vz(n,"ether").toString(),spender:i.mutualsAddress},t.next=10,d({params:m});case 10:return r=t.sent,t.next=13,r.wait(1);case 13:y(p.params.wad,m.params.amount);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e){return w.apply(this,arguments)}function w(){return(w=_(u().mark((function t(e,n){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f.params={_amount0:e,_amount1:n},t.next=3,d({params:f,onError:function(t){return console.log(t)}});case 3:return r=t.sent,t.next=6,r.wait(1);case 6:console.log("Transaction has confirmed by 1 block");case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(){return(A=_(u().mark((function t(e){var r,a,o,c,i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.target.value<0)){t.next=2;break}return t.abrupt("return");case 2:return r="input_0"==e.target.id?"1":"0",a=Number(e.target.value).toFixed(16),o=v.vz(a,"ether").toString(),x.functionName="calculateToken".concat(r,"Amount"),console.log(o),x.params="0"==r?{y:o}:{x:o},console.log(x),t.next=11,d({params:x,onError:function(t){return console.log(t)}});case 11:c=t.sent,console.log({tx:c}),i=v.dF(c).toString(),"1"==r?s(i):n(i);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,r.jsx)("div",{className:"shadow-2xl rounded-xl p-4",children:(0,r.jsx)(h.l0,{onSubmit:function(){return b.apply(this,arguments)},onChange:function(t){return A.apply(this,arguments)},id:"stake-form",data:[{inputWidth:"50%",name:"Amount to stake (in WETH)",type:"number",value:e,key:"WETH"},{inputWidth:"50%",name:"Amount to stake (in ACH)",type:"number",value:o,key:"ACH"}],title:"Let's stake!"})})}function S(t,e,n,r,a,o,s){try{var u=t[o](s),c=u.value}catch(i){return void n(i)}u.done?e(c):Promise.resolve(c).then(r,a)}function k(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function s(t){S(o,r,a,s,u,"next",t)}function u(t){S(o,r,a,s,u,"throw",t)}s(void 0)}))}}function N(){var t=function(t,e){n({type:e,title:t,position:"topR"})},e=(0,c.JX)().runContractFunction,n=(0,h.lm)(),a=(i.wethAbi,i.wethAddress,{abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"removeLiquidity"}),o=(0,l.useState)(""),s=o[0],d=o[1];function p(){return(p=k(u().mark((function n(r){var o,s,c;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=r.data[0].inputResult.toString(),s=v.vz(o,"ether").toString(),c=m(),(o<0||o>c)&&t("the broken has occured","error"),a.params={_shares:s},n.next=7,e({params:a,onError:function(e){return t(e.message,"error")},onSuccess:function(){return t("Removed ".concat(o," LP shares"),"success")}});case 7:n.sent;case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var m=function(){return document.querySelector(".lp").textContent};return(0,r.jsxs)("div",{className:"shadow-xl rounded-xl p-8 px-12",children:[(0,r.jsx)(h.l0,{onSubmit:function(t){return p.apply(this,arguments)},onChange:function(){return d(null)},data:[{inputWidth:"250px",name:"Amount to remove",type:"number",value:s,key:"amountToRemove",validation:{required:!0}}],title:"Remove LP Shares"}),(0,r.jsx)(h.zx,{text:"Max",onClick:function(){d(m()),console.log(s)},theme:"primary",style:{position:"relative",bottom:"120px",left:"270px",padding:"6px 12px",fontSize:"1rem"}})]})}function C(t,e,n,r,a,o,s){try{var u=t[o](s),c=u.value}catch(i){return void n(i)}u.done?e(c):Promise.resolve(c).then(r,a)}function j(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function s(t){C(o,r,a,s,u,"next",t)}function u(t){C(o,r,a,s,u,"throw",t)}s(void 0)}))}}function H(){var t=function(t,e){s({type:e,title:t,position:"topR"})},e=(0,c.Nr)(),n=(e.address,e.account),a=e.isWeb3Enabled,o=(0,c.JX)().runContractFunction,s=(0,h.lm)(),d={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"getReward"},p=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"earned",params:{account:n}}).runContractFunction,m=(0,l.useState)(""),f=m[0],x=m[1];function b(){return(b=j(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({params:d,onError:function(e){return console.log(e),t(e.message,"error"),e},onSuccess:function(){t("Successfully claimed ".concat(f,"!"),"success")}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(){var t=j(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p();case 2:e=t.sent,x(v.dF(e).toString());case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,l.useEffect)((function(){a&&n&&y()}),[n,a]),(0,r.jsxs)("div",{className:"shadow-xl rounded-xl p-8 px-12",children:[(0,r.jsx)("h3",{className:"font-bold text-2xl mb-4 text-slate-500",children:"Claim Rewards"}),(0,r.jsx)(h.zx,{text:"Claim all rewards",theme:"primary",style:{padding:"8px",margin:"12px 0px"},onClick:function(){return b.apply(this,arguments)},disabled:!Number(f)}),(0,r.jsxs)("p",{className:" text-lg",children:["Rewards Earned: ",(0,r.jsx)("span",{className:"font-semibold",children:f})]})]})}function T(){var t={gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",width:"85vw"};return(0,r.jsxs)("div",{className:o().container,style:{display:"flex",flexDirection:"column",gap:"12px",alignItems:"center"},children:[(0,r.jsxs)("div",{className:"grid gap-12 pt-7",style:t,children:[(0,r.jsx)(A,{}),(0,r.jsx)(E,{})]}),(0,r.jsxs)("div",{className:"grid gap-12",style:t,children:[(0,r.jsx)(N,{}),(0,r.jsx)(H,{})]}),(0,r.jsx)(f,{})]})}},7160:function(t){t.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}}},function(t){t.O(0,[301,774,888,179],(function(){return e=78581,t(t.s=e);var e}));var e=t.O();_N_E=e}]);