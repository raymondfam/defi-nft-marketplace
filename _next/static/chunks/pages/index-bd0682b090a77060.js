(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{78581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(68894)}])},68894:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var r=n(85893),a=n(7160),o=n.n(a),s=(n(10292),n(34051)),u=n.n(s),c=n(83078),i=n(96301),l=n(67294),d=n(20401);function m(e,t,n,r,a,o,s){try{var u=e[o](s),c=u.value}catch(i){return void n(i)}u.done?t(c):Promise.resolve(c).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){m(o,r,a,s,u,"next",e)}function u(e){m(o,r,a,s,u,"throw",e)}s(void 0)}))}}function p(){var e=(0,c.Nr)(),t=(e.address,e.account),n=e.isWeb3Enabled,r=(0,l.useState)("0"),a=r[0],o=r[1],s=(0,l.useState)("0"),m=s[0],p=s[1],h=(0,l.useState)("0"),x=h[0],v=h[1],b=(0,l.useState)("0"),y=b[0],w=b[1],g=(0,l.useState)("0"),A=g[0],N=g[1],j=(0,c.JX)({abi:i.achieverAbi,contractAddress:i.achieverAddress,functionName:"balanceOf",params:{account:t}}).runContractFunction,k=(0,c.JX)({abi:i.wethAbi,contractAddress:i.wethAddress,functionName:"balanceOf",params:{Matthew:t}}).runContractFunction,S=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"balanceOf",params:{Elkanah:t}}).runContractFunction,_=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"earned",params:{account:t}}).runContractFunction,E=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"totalSupply",params:{}}).runContractFunction;function C(){return(C=f(u().mark((function e(){var t,n,r,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d,e.next=3,j({onError:function(e){return console.log(e)}});case 3:return e.t1=e.sent,t=e.t0.formatEther.call(e.t0,e.t1),o(t),e.t2=d,e.next=9,k({onError:function(e){return console.log(e)}});case 9:return e.t3=e.sent,n=e.t2.formatEther.call(e.t2,e.t3),p(n),e.t4=d,e.next=15,S({onError:function(e){return console.log(e)}});case 15:return e.t5=e.sent,r=e.t4.formatEther.call(e.t4,e.t5),v(r),e.t6=d,e.next=21,_({onError:function(e){return console.log(e)}});case 21:return e.t7=e.sent,a=e.t6.formatEther.call(e.t6,e.t7),w(a),e.t8=d,e.next=27,E({onError:function(e){return console.log(e)}});case 27:e.t9=e.sent,s=e.t8.formatEther.call(e.t8,e.t9),N(s);case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,l.useEffect)((function(){n&&t&&function(){C.apply(this,arguments)}()}),[t,n]),{earningsBalance:y,lpBalance:x,totalLPBalance:A,achBalance:a,wethBalance:m}}var h=n(69251),x=n(35553),v=n(10913),b=n(33841),y=n(53179),w=n(55819),g=n(61903),A=n(66319);function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n,r,a,o,s){try{var u=e[o](s),c=u.value}catch(i){return void n(i)}u.done?t(c):Promise.resolve(c).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){j(o,r,a,s,u,"next",e)}function u(e){j(o,r,a,s,u,"throw",e)}s(void 0)}))}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],s=!0,u=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(c){u=!0,a=c}finally{try{s||null==n.return||n.return()}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(){var e=(0,c.JX)().runContractFunction,t=(0,h.lm)(),n={abi:i.achieverAbi,contractAddress:i.achieverAddress,functionName:"approve"},a={abi:i.wethAbi,contractAddress:i.wethAddress,functionName:"approve"},o={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"swap"},s=(0,l.useState)("0"),m=s[0],f=s[1],N=(0,l.useState)(""),j=N[0],_=N[1],E=(0,l.useState)(!1),C=E[0],T=E[1],H=p(),P=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"reserve0",params:{}}).runContractFunction,q=(0,c.JX)({abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"reserve1",params:{}}).runContractFunction;function B(){return(B=k(u().mark((function t(r){var o,s,c,l;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),!((s=document.querySelector("#swap-amount").value)<=0)&&j){t.next=6;break}return T(!1),t.abrupt("return");case 6:return T(!0),c=x.vz(s,"ether").toString(),"WETH"==j?(a.params={wad:c,guy:i.mutualsAddress},o=a):(n.params={amount:c,spender:i.mutualsAddress},o=n),t.next=11,e({params:o,onError:function(e){console.log(e),T(!1)}});case 11:if(l=t.sent){t.next=15;break}return T(!1),t.abrupt("return");case 15:return t.next=17,l.wait(1);case 17:L(o.contractAddress,c);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(e,t){return Z.apply(this,arguments)}function Z(){return(Z=k(u().mark((function n(r,a){var s;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.params={_amountIn:a,_tokenIn:r},console.log("Swapping ".concat(o.params._amountIn," ...")),n.next=4,e({params:o,onSuccess:function(){return t({title:"Successfully Swapped",type:"success",position:"topR"})}});case 4:if(s=n.sent,T(!1),document.querySelector("#swap-amount").value="",s){n.next=9;break}return n.abrupt("return");case 9:return n.next=11,s.wait(1);case 11:console.log("Transaction has confirmed by 1 block");case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function F(e){return I.apply(this,arguments)}function I(){return(I=k(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.querySelector("#swap-amount"),!isNaN(t.target.value)){e.next=5;break}n.value="",f(0),_(t.target.value),e.next=10;break;case 5:return e.t0=f,e.next=8,X(n.value);case 8:e.t1=e.sent,(0,e.t0)(e.t1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return O.apply(this,arguments)}function O(){return(O=k(u().mark((function e(t){var n,r,a,o,s,c,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=2;break}return e.abrupt("return",0);case 2:return e.t0=d,e.next=5,P();case 5:return e.t1=e.sent,n=e.t0.formatEther.call(e.t0,e.t1),e.t2=d,e.next=10,q();case 10:return e.t3=e.sent,r=e.t2.formatEther.call(e.t2,e.t3),null,a=S("ACH"==j?[n,r]:[r,n],2),o=a[0],s=a[1],i=+s*(c=997*t/1e3)/(+o+c),e.abrupt("return",i);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,r.jsxs)("div",{className:"shadow-2xl rounded-xl p-8 px-12",children:[(0,r.jsx)("h3",{className:"font-bold text-2xl mb-4 text-slate-500",children:"Let's swap!"}),(0,r.jsxs)("div",{className:"flex flex-col gap-5 py-2",children:[(0,r.jsxs)(v.Z,{size:"small",className:"w-1/2 min-w-[180px] flex gap-6",children:[(0,r.jsx)(b.Z,{id:"select",children:"Select a token"}),(0,r.jsxs)(y.Z,{value:j,onChange:F,label:"select",children:[(0,r.jsx)(w.Z,{value:"ACH",children:"ACH"}),(0,r.jsx)(w.Z,{value:"WETH",children:"WETH"})]}),(0,r.jsx)(g.Z,{id:"swap-amount",label:"Amount to swap",size:"small",onChange:F,type:"number",required:!0})]}),(0,r.jsxs)("div",{className:"info text-lg",children:[(0,r.jsxs)("p",{children:["Corresponding Token Out: ",(0,r.jsxs)("span",{className:"font-bold",children:[" ",m]})]}),(0,r.jsxs)("div",{children:["Your ACH Balance:",(0,r.jsxs)("span",{className:"font-bold",children:[" ",H.achBalance]})]}),(0,r.jsxs)("div",{children:["Your WETH Balance: ",(0,r.jsx)("span",{className:"font-bold",children:H.wethBalance})]})]}),(0,r.jsx)(A.Z,{variant:"contained",className:"max-w-[110px] rounded-lg p-2",type:"submit",onClick:function(e){return B.apply(this,arguments)},loading:C,children:"Submit"})]})]})}function E(e,t,n,r,a,o,s){try{var u=e[o](s),c=u.value}catch(i){return void n(i)}u.done?t(c):Promise.resolve(c).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){E(o,r,a,s,u,"next",e)}function u(e){E(o,r,a,s,u,"throw",e)}s(void 0)}))}}function T(){var e=(0,l.useState)(!1),t=e[0],n=e[1],a=(0,h.lm)(),o=(0,c.JX)().runContractFunction,s={abi:i.wethAbi,contractAddress:i.wethAddress,functionName:"approve"},d={abi:i.achieverAbi,contractAddress:i.achieverAddress,functionName:"approve"},m={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"addLiquidity"},f={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:null};function b(){return(b=C(u().mark((function e(t){var r,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=document.querySelector("#Token1").value,a=document.querySelector("#Token0").value,!(Number(r)<=0)){e.next=5;break}return n(!1),e.abrupt("return");case 5:return s.params={wad:x.vz(r,"ether").toString(),guy:i.mutualsAddress},d.params={amount:x.vz(a,"ether").toString(),spender:i.mutualsAddress},e.next=9,o({params:s,onError:function(e){return console.log(e)}});case 9:if(e.sent){e.next=13;break}return n(!1),e.abrupt("return");case 13:return e.next=15,o({params:d,onError:function(e){return console.log(e)}});case 15:if(c=e.sent){e.next=19;break}return n(!1),e.abrupt("return");case 19:return e.next=21,c.wait(1);case 21:y(s.params.wad,d.params.amount);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return w.apply(this,arguments)}function w(){return(w=C(u().mark((function e(t,r){var s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.params={_amount0:t,_amount1:r},e.next=3,o({params:m,onError:function(e){return console.log(e)}});case 3:return s=e.sent,a({type:"success",title:"Staked token successfully!",position:"topR"}),n(!1),document.querySelector("#Token1").value="",document.querySelector("#Token0").value="",e.next=10,s.wait(1);case 10:console.log("Transaction has confirmed by 1 block");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return j.apply(this,arguments)}function j(){return(j=C(u().mark((function e(t){var n,r,a,s,c,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t.target.id),!(t.target.value<0)){e.next=4;break}return t.target.value=0,e.abrupt("return");case 4:return n=Number(t.target.value).toFixed(16),r=x.vz(n,"ether").toString(),f.functionName="calculate".concat(t.target.id,"Amount"),f.params="Token1"==t.target.id?{x:r}:{y:r},console.log(f),e.next=11,o({params:f,onError:function(e){return console.log(e)}});case 11:a=e.sent,s=x.dF(a).toString(),c=document.querySelector("#Token1"),i=document.querySelector("#Token0"),"Token1"==t.target.id?i.value=s:c.value=s;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=p();return(0,r.jsxs)("div",{className:"shadow-2xl rounded-xl p-8 px-12",children:[(0,r.jsx)("h3",{className:"font-bold text-2xl mb-4 text-slate-500",children:"Let's Stake!"}),(0,r.jsxs)("div",{className:"flex flex-col gap-6 py-2",children:[(0,r.jsxs)(v.Z,{className:"w-1/2 min-w-[180px] flex gap-6",children:[(0,r.jsx)(g.Z,{id:"Token0",label:"Amount to stake (in ACH)",size:"small",onChange:N,type:"number",InputLabelProps:{shrink:!0},required:!0}),(0,r.jsx)(g.Z,{id:"Token1",label:"Amount to stake (in WETH)",size:"small",onChange:N,type:"number",InputLabelProps:{shrink:!0},required:!0})]}),(0,r.jsxs)("div",{className:"text-lg",children:[(0,r.jsxs)("div",{children:["Your ACH Balance:",(0,r.jsxs)("span",{className:"font-bold",children:[" ",k.achBalance]})]}),(0,r.jsxs)("div",{children:["Your WETH Balance: ",(0,r.jsx)("span",{className:"font-bold",children:k.wethBalance})]})]}),(0,r.jsx)(A.Z,{variant:"contained",className:"max-w-[150px] rounded-lg p-2",type:"submit",onClick:function(e){n(!0),function(e){b.apply(this,arguments)}(e)},loading:t,children:"stake token"})]})]})}var H=n(83321);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t,n,r,a,o,s){try{var u=e[o](s),c=u.value}catch(i){return void n(i)}u.done?t(c):Promise.resolve(c).then(r,a)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){q(o,r,a,s,u,"next",e)}function u(e){q(o,r,a,s,u,"throw",e)}s(void 0)}))}}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],s=!0,u=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(c){u=!0,a=c}finally{try{s||null==n.return||n.return()}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(){var e=function(e,t){n({type:t,title:e,position:"topR"})},t=(0,c.JX)().runContractFunction,n=(0,h.lm)(),a={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"removeLiquidity"},o=(0,l.useState)(!1),s=o[0],d=o[1],m=L(function(){var e=p();return[e.lpBalance,e.totalLPBalance]}(),2),f=m[0],v=m[1];function b(){return(b=B(u().mark((function n(){var r,o;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(d(!0),!((r=document.querySelector("#amount-to-remove").value)<=0||r>f)){n.next=5;break}return d(!1),n.abrupt("return");case 5:return o=x.vz(r,"ether").toString(),a.params={_shares:o},n.next=9,t({params:a,onError:function(t){return e(t.message,"error")},onSuccess:function(){return e("Removed ".concat(r," LP shares"),"success")}});case 9:d(!1);case 10:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,r.jsxs)("div",{className:"shadow-xl rounded-xl p-8 px-12",children:[(0,r.jsx)("h3",{className:"font-bold text-2xl mb-4 text-slate-500",children:"Remove Liquidity"}),(0,r.jsxs)("div",{className:"flex flex-col gap-6 py-2",children:[(0,r.jsxs)("div",{className:"flex gap-1",children:[(0,r.jsx)(g.Z,{className:"w-1/2 min-w-[180px]",id:"amount-to-remove",size:"small",type:"number",required:!0,label:"Amount to remove",onChange:function(e){e.target.value<0&&(e.target.value=0)},InputLabelProps:{shrink:!0}}),(0,r.jsx)(H.Z,{variant:"contained",className:"bg-emerald-500 rounded-md",onClick:function(){var e=document.querySelector("#amount-to-remove");e.focus(),e.value=f},children:"Max"})]}),(0,r.jsxs)("div",{className:"text-lg",children:["LP Shares: ",(0,r.jsx)("span",{className:"font-bold",children:f}),(0,r.jsx)("br",{}),"Contract LP Shares: ",(0,r.jsx)("span",{className:"font-bold",children:v})]}),(0,r.jsx)(A.Z,{variant:"contained",className:"max-w-[110px] rounded-lg p-2",type:"submit",onClick:function(){return b.apply(this,arguments)},loading:s,children:"Submit"})]})]})}function F(e,t,n,r,a,o,s){try{var u=e[o](s),c=u.value}catch(i){return void n(i)}u.done?t(c):Promise.resolve(c).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){F(o,r,a,s,u,"next",e)}function u(e){F(o,r,a,s,u,"throw",e)}s(void 0)}))}}function X(){var e=function(e,t){n({type:t,title:e,position:"topR"})},t=(0,c.JX)().runContractFunction,n=(0,h.lm)(),a={abi:i.mutualsAbi,contractAddress:i.mutualsAddress,functionName:"getReward"},o=p().earningsBalance;function s(){return(s=I(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f(!0),n.next=3,t({params:a,onError:function(t){return console.log(t),e(t.message,"error"),t},onSuccess:function(){return e("Successfully claimed ".concat(o,"!"),"success")}});case 3:f(!1);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var d=(0,l.useState)(!1),m=d[0],f=d[1],x=(0,l.useState)(!1),v=x[0],b=x[1];return(0,l.useEffect)((function(){Number(o)?b(!1):b(!0)}),[o]),(0,r.jsxs)("div",{className:"shadow-xl rounded-xl p-8 px-12",children:[(0,r.jsx)("h3",{className:"font-bold text-2xl mb-4 text-slate-500",children:"Claim Rewards"}),(0,r.jsxs)("p",{className:" text-lg",children:["Rewards Earned: ",(0,r.jsx)("span",{className:"font-semibold",children:o})]}),(0,r.jsx)(A.Z,{className:"p-3 my-3 rounded-xl",variant:"contained",size:"large",onClick:function(){return s.apply(this,arguments)},loading:m,disabled:v,children:"Claim rewards"})]})}function O(){var e={gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",width:"85vw"};return(0,r.jsxs)("div",{className:o().container,style:{display:"flex",flexDirection:"column",gap:"12px",alignItems:"center"},children:[(0,r.jsxs)("div",{className:"grid gap-12 pt-7",style:e,children:[(0,r.jsx)(_,{}),(0,r.jsx)(T,{})]}),(0,r.jsxs)("div",{className:"grid gap-12",style:e,children:[(0,r.jsx)(Z,{}),(0,r.jsx)(X,{})]})]})}},7160:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}},69649:function(){},7801:function(){},6042:function(){},74801:function(){},30991:function(){},68587:function(){}},function(e){e.O(0,[593,293,993,122,321,301,774,888,179],(function(){return t=78581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);